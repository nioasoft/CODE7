RewriteEngine On

# Route specific endpoints to Node.js app (replace PORT with actual port)
RewriteRule ^upload-image$ http://localhost:3000/upload-image [P,L]
RewriteRule ^site-data$ http://localhost:3000/site-data [P,L]
RewriteRule ^contact$ http://localhost:3000/contact [P,L]

# Route admin to Node.js app
RewriteRule ^admin/(.*)$ http://localhost:3000/admin/$1 [P,L]
RewriteRule ^admin$ http://localhost:3000/admin [P,L]

# Route root to Node.js app
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/uploads/
RewriteCond %{REQUEST_URI} !^/data/
RewriteRule ^(.*)$ http://localhost:3000/$1 [P,L]